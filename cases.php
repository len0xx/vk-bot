<?php

//
// "Cases" file 
// this file searches for certain phrases in users' message and decides what reply to send him
//

// Default phrases
$defaults = ["ะฏ ะฝะต ะฟะพะฝะธะผะฐั ะะฐั", "ะ ัะพะถะฐะปะตะฝะธั, ั ะฝะต ะผะพะณั ะะฐั ะฟะพะฝััั", "ะะฐะถะตััั, ั ะฝะต ะฟะพะฝะธะผะฐั, ะพ ััะผ ะั", "ะะฐะถะตััั, ั ะฝะต ะฟะพะฝะธะผะฐั, ะพ ััะผ ะั ๐ค"];
$greets = ["ะัะธะฒะตั, ".BOT_USER_FIRST_NAME."! ๐", "ะะดัะฐะฒััะฒัะน, ".BOT_USER_FIRST_NAME."!"];
$howAreYou = ["ะฃ ะผะตะฝั ะฒัั ะฟัะตะบัะฐัะฝะพ! ๐", "ะฃ ะผะตะฝั ะฒัั ะฟัะตะบัะฐัะฝะพ!", "ะัั ัะพัะพัะพ, ัะฟะฐัะธะฑะพ! ๐", "ะัั ัะพัะพัะพ, ัะฟะฐัะธะฑะพ!", "ะฅะพัะพัะพ!", "ะัั ะฟัะพััะพ ะพัะปะธัะฝะพ!", "ะฃ ะผะตะฝั ะฒัั ะทะฐะผะตัะฐัะตะปัะฝะพ! ๐", "ะฃ ะผะตะฝั ะฒัั ะทะฐะผะตัะฐัะตะปัะฝะพ!", "ะัั ะบะฐะบ ะฒ ัะบะฐะทะบะต ๐", "ะัััะต ะฒัะตั, ะฝะต ะฟะพะฒะตัะธัะต! ๐", "ะัััะต ะฒัะตั, ะฝะต ะฟะพะฒะตัะธัะต!", "ะะฐะบ ะฒัะตะณะดะฐ, ัะพ ะตััั ัะพัะพัะพ", "ะัะปะธัะฝะพ! ะงะตะณะพ ะธ ะะฐะผ ะถะตะปะฐั"];
$thanks = ["ะะต ะทะฐ ััะพ, ะพะฑัะฐัะฐะนัะตัั ะตัั!", "ะะฐ ะฝะต ะทะฐ ััะพ, ั ะฒัะตะณะดะฐ ัะฐะด ะฟะพะผะพัั! ๐", "ะัะตะณะดะฐ ะฟะพะถะฐะปัะนััะฐ! ๐"];
$iknowlot = [
    "ะฏ ะผะพะณั ะพัะฒะตัะธัั ะฝะฐ ะผะฝะพะณะธะต ะฒะพะฟัะพัั ะฟะพ ะฐัััะพะฝะพะผะธะธ",
    "ะฏ ะผะพะณั ัะฐััะบะฐะทะฐัั ะะฐะผ ะผะฝะพะณะพ ะธะฝัะตัะตัะฝะพะณะพ ะฟัะพ ะบะพัะผะพั",
    "ะฏ ะทะฝะฐั ะผะฝะพะถะตััะฒะพ ะธะฝัะตัะตัะฝัั ะฒะตัะตะน ะฟัะพ ะดะฐะปัะฝะธะต ัะณะพะปะบะธ ะบะพัะผะพัะฐ"
];

// An array with for replying to an un
$unknownMsgReply = [
    "default" => "ะฏ ะฝะต ะฟะพะฝะธะผะฐั ะะฐั",
    "default2" => "ะ ัะพะถะฐะปะตะฝะธั, ั ะฝะต ะผะพะณั ะะฐั ะฟะพะฝััั",
    "default3" => "ะะฐะถะตััั, ั ะฝะต ะฟะพะฝะธะผะฐั, ะพ ััะผ ะั",
    "default4" => "ะะฐะถะตััั, ั ะฝะต ะฟะพะฝะธะผะฐั, ะพ ััะผ ะั ๐ค",
    "photo" => "ะฏ ะตัั ะฝะต ะฝะฐััะธะปัั ัะฐัะฟะพะทะฝะฐะฒะฐัั, ััะพ ะฝะฐัะพะดะธััั ะฝะฐ ัะพัะพะณัะฐัะธัั, ะฟะพััะพะผั ะฝะต ะผะพะณั ะะฐะผ ะฝะธัะตะณะพ ะพัะฒะตัะธัั",
    "video" => "ะะพะบะฐ ััะพ ั ะฝะต ะผะพะณั ะะฐะผ ะฝะธัะตะณะพ ะพัะฒะตัะธัั ะฝะฐ ะฒะธะดะตะพ ัะพะพะฑัะตะฝะธั",
    "doc" => "ะ ัะพะถะฐะปะตะฝะธั, ัะตะนัะฐั ั ะฝะต ะผะพะณั ัะฐัะฟะพะทะฝะฐะฒะฐัั, ััะพ ัะพะดะตัะถะธััั ะฒ ะดะพะบัะผะตะฝัะฐั",
    "graffiti" => "ะ ัะพะถะฐะปะตะฝะธั, ั ะตัั ะฝะต ัะผะตั ัะฐัะฟะพะทะฝะฐะฒะฐัั ะณัะฐััะธัะธ ะธ Memoji ะธ ะฝะต ะทะฝะฐั, ะบะฐะบ ะพัะฒะตัะธัั ะะฐะผ ะฝะฐ ััะพ ัะพะพะฑัะตะฝะธะต",
    "market" => "ะฏ ะฝะต ะผะพะณั ะพัะฒะตัะธัั ะฝะฐ ัะฐะบะพะต ัะพะพะฑัะตะฝะธะต",
    "audio_message" => "ะะฐะดะพ ะฟัะธะทะฝะฐัััั, ะฟะพะบะฐ ััะพ ั ะฝะต ัะฟะพัะพะฑะตะฝ ัะฐัะฟะพะทะฝะฐะฒะฐัั ะะฐัั ัะตัั ะธ ะฝะต ะผะพะณั ะพัะฒะตัะธัั ะะฐะผ ะฝะฐ ััะพ ัะพะพะฑัะตะฝะธะต",
    "wall" => "ะ ัะพะถะฐะปะตะฝะธั, ั ะฝะต ะผะพะณั ัะตะนัะฐั ะฝะธัะตะณะพ ะพัะฒะตัะธัั ะฝะฐ ััะพั ะฟะพัั",
    "geo" => "ะะฐะดะพ ะฟัะธะทะฝะฐัััั, ั ะฝะต ะผะพะณั ะทะฝะฐัั, ััะพ ะฝะฐัะพะดะธััั ะฒ ััะพะน ะณะตะพะปะพะบะฐัะธะธ, ัะพะพัะฒะตัััะฒะตะฝะฝะพ ะธ ะพัะฒะตัะธัั ะฝะธัะตะณะพ ะฝะต ะผะพะณั",
    "podcast" => "ะะพะดะบะฐััั โ ััะพ, ะพะฟัะตะดะตะปะตะฝะฝะพ, ะพัะตะฝั ะธะฝัะตัะตัะฝัะน ัะพัะผะฐั, ะพะดะฝะฐะบะพ ั, ะบ ัะพะถะฐะปะตะฝะธั, ะฟะพะบะฐ ััะพ ะฝะต ะฝะฐััะธะปัั ะธั ัะปััะฐัั",
    "audio" => "ะฃะฒั, ะฝะพ ะฒ ะดะฐะฝะฝัะน ะผะพะผะตะฝั ั ะฝะต ัะผะตั ัะปััะฐัั ะฐัะดะธะพะทะฐะฟะธัะธ",
    "link" => "ะ ะผะพะตะผั ัะพะถะฐะปะตะฝะธั, ะฟะพะบะฐ ััะพ ั ะฝะต ัะผะตั ะฟะพะฝะธะผะฐัั, ััะพ ะฝะฐัะพะดะธััั ะฒ ัััะปะบะฐั",
    "sticker" => "ะะฐะถะตััั, ั ะฝะต ะฟะพะฝะธะผะฐั, ััะพ ะทะฝะฐัะธั ััะพั ััะธะบะตั ๐ค"
];

// Processing all the possible cases and choosing the valid reply variant
// incase of undefined case, returning the default reply

switch (BOT_MESSAGE_ATTACHMENT_TYPE) {
    case "photo":
        tron_send($unknownMsgReply["photo"]);
    break;

    case "video":
        tron_send($unknownMsgReply["video"]);
    break;

    case "doc":
        tron_send($unknownMsgReply["doc"]);
    break;

    case "graffiti":
        tron_send($unknownMsgReply["graffiti"]);
    break;

    case "market":
        tron_send($unknownMsgReply["market"]);
    break;

    case "audio_message":
        tron_send($unknownMsgReply["audio_message"]);
    break;

    case "wall":
        tron_send($unknownMsgReply["wall"]);
    break;

    case "geo":
        tron_send($unknownMsgReply["geo"]);
    break;

    case "podcast":
        tron_send($unknownMsgReply["podcast"]);
    break;

    case "audio":
        tron_send($unknownMsgReply["audio"]);
    break;

    case "link":
        tron_send($unknownMsgReply["link"]);
    break;

    case "sticker":
        switch (BOT_STICKER_ID) {
            case "271_8748":
            case "325_10699":
                tron_send("ะะปะพัะฐ, ".BOT_USER_FIRST_NAME."!");
            break;

            case "500_17616":
            case "522_18463":
            case "151_4710":
            case "111_3462":
            case "94_3003":
            case "500_17616":
            case "546_19442":
            case "1_21":
                tron_send(getr_few($greets, 1));
            break;

            case "192_6164":
            case "271_8755":
                tron_send(getr_few($thanks, 1));
            break;

            default:
                tron_send($unknownMsgReply["sticker"]);
            break;
        }
    break;

    default:
    if (!BOT_MESSAGE_EMPTY || BOT_MESSAGE_ATTACHMENT_TYPE == 'fwd_messages' && count($event['object']['message']['fwd_messages']) == 1) {
        if (has("or", ["ะฟัะธะฒะตั", "ะทะดัะฐะฒััะฒัะนัะต", "ะบั"])) tron_send(getr_few($greets, 1));
        elseif (has("and_uo", ["ะบะฐะบ", "ัะตะฑั", "ะทะพะฒัั"])) tron_send("ะะตะฝั ะทะพะฒัั ะขัะพะฝ");
        elseif (has("and", ["ะบะฐะบะฐั", "ัะตะนัะฐั", "ะดะฐัะฐ"]) || has("and", ["ะบะฐะบะฐั", "ัะตะณะพะดะฝั", "ะดะฐัะฐ"])) tron_send("ะกะตะณะพะดะฝั " . curDate("day"));
        elseif (has("and", ["ัะบะพะปัะบะพ", "ะฒัะตะผั"]) || has("and", ["ัะบะพะปัะบะพ", "ะฒัะตะผะตะฝะธ"])) tron_send("ะกะตะนัะฐั " . curDate("time"));
        elseif (has("and", ["ััะพ", "ัั", "ัะผะตะตัั"]) || has("and", ["ััะพ", "ัั", "ะทะฝะฐะตัั"])) tron_send("ะะพะบะฐ ััะพ ั ัะผะตั ะฝะตะผะฝะพะณะพ โ ะฒัะตะณะพ ะปะธัั ะพัะฒะตัะฐัั ะฝะฐ ะฝะตะบะพัะพััะต ะฒะพะฟัะพัั, ะฝะฐะฟัะธะผะตั:", "", inlineKeyboard(["ะกะบะพะปัะบะพ ัะตะนัะฐั ะฒัะตะผะตะฝะธ?", "ะะฐะบะฐั ัะตะณะพะดะฝั ะดะฐัะฐ?"]));
        elseif (has("or", ["start", "ะฝะฐัะฐัั"])) tron_send("ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั, ะฒะพัะฟะพะปัะทัะนัั ะผะตะฝั", "", getKeyboard("menu"));
        elseif (has("and_uo", ["ะผะตะฝั"]) && has("not", ["ัะผะตะฝััะธัั", "ัะฒะตะปะธัะธัั"])) tron_send("ะะตะฝั ะพัะบัััะพ:", "", getKeyboard("menu"));
        elseif (has("and", ["ัะผะตะฝััะธัั", "ะผะตะฝั"])) tron_send("ะะตะฝั ะฑัะปะพ ัะผะตะฝััะตะฝะพ:", "", getKeyboard("small_menu"));
        elseif (has("and", ["ัะฒะตะปะธัะธัั", "ะผะตะฝั"])) tron_send("ะะพะปะฝะพะต ะผะตะฝั:", "", getKeyboard("menu"));
        else {
            tron_send(getr_few($defaults, 1));
        }
    } else {
        tron_send(getr_few($defaults, 1));
    }
    break;
}

?>